# yaml-language-server: $schema=https://raw.githubusercontent.com/takumiyoshikawa/skill-loop/refs/heads/main/schema.json

default_entrypoint: 1-impl
max_iterations: 5

skills:
  1-impl:
    agent:
      runtime: claude
      model: claude-sonnet-4-5
      args:
        - "--dangerously-skip-permissions"
    next:
      - skill: 2-review

  2-review:
    agent:
      runtime: codex
      model: gpt-5.3-codex
      args:
        - "--full-auto"
    next:
      - when: "<REVIEW_OK>"
        criteria: "コード品質が基準を満たしている場合"
        skill: "<DONE>"
      - skill: 1-impl
